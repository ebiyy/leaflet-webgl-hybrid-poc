# POC後の追加タスク

## 📋 概要
POC最終チェックのフィードバックを受けて、本開発前に対応すべきタスクをまとめます。

---

## 🚨 優先度：高（本開発前に必須）

### 1. カオスレベル3の入力遅延測定完了
- [ ] 実際の入力遅延を計測するベンチマークツール作成
- [ ] 95パーセンタイルで200ms以内を確認
- [ ] WebWorker実装のプロトタイプ作成
- [ ] 測定結果をレポートに追記

### 2. サイズバジェットCI構築
- [ ] GitHub Actionsワークフロー作成
- [ ] PRごとにWASMサイズをチェック（200KB上限）
- [ ] サイズ超過時の自動ブロック機能
- [ ] サイズ推移グラフの自動生成

### 3. 即時デモURL公開
- [ ] GitHub Pagesへの自動デプロイ設定
- [ ] mainブランチpush時の自動ビルド・公開
- [ ] デモページにベンチマーク結果表示
- [ ] README.mdにデモリンク追加

---

## 🎯 優先度：中（Phase 1開始までに）

### 4. Safari/iOS互換性テスト強化
- [ ] BrowserStackまたは実機でのテスト環境構築
- [ ] iOS 15-16でのWebGL/Audio動作確認
- [ ] Canvas fallback実装（WebGL失敗時）
- [ ] タッチ操作の最適化

### 5. メモリリークsoak test
- [ ] wasm-bindgen-testでの長時間テスト作成
- [ ] 1時間連続実行でのメモリ使用量監視
- [ ] Rapier/JS Bridge境界のリーク検出
- [ ] CI統合（週次実行）

### 6. WebGLパスの早期PoC
- [ ] パーティクルシステムの基本実装
- [ ] 30,000パーティクルでのパフォーマンステスト
- [ ] Canvas→WebGL移行パスの設計
- [ ] 技術判断ドキュメント作成

---

## 🔧 優先度：低（Phase 2以降でも可）

### 7. A/Bテスト基盤（退屈UI計測）
- [ ] 破壊レベルのパラメータ化
- [ ] 離脱率との相関分析ツール
- [ ] Google Analytics統合
- [ ] ダッシュボード作成

### 8. パフォーマンスダッシュボード
- [ ] Lighthouse CI統合
- [ ] Core Web Vitals自動計測
- [ ] 競合比較グラフ
- [ ] 週次レポート自動生成

### 9. 開発者体験向上
- [ ] VSCode拡張機能（Dioxus snippets）
- [ ] ローカル開発用Docker環境
- [ ] ホットリロード最適化
- [ ] デバッグツール強化

---

## 📊 期待される成果

### 技術的差別化の強化
- **172KB** → **<150KB**を目指す（サイズバジェットCI効果）
- カオスレベル3で**150ms以下**の入力遅延
- Safari/iOSで**100%動作保証**

### マーケティング効果
- 「世界最軽量の本格WASMゲーム」としてPR
- GitHub Starsでの話題性向上
- 技術ブログでの事例紹介増加

### 開発効率向上
- バグの早期発見（CI強化）
- パフォーマンス劣化の即座検知
- 新メンバーのオンボーディング短縮

---

## 🗓️ 推奨スケジュール

### Week 1（6月第3週）
- タスク1：カオスレベル3測定
- タスク2：サイズバジェットCI
- タスク3：デモURL公開

### Week 2（6月第4週）
- タスク4：Safari互換性テスト
- タスク5：メモリリークテスト

### Week 3（7月第1週）
- タスク6：WebGL PoC
- 本開発準備・環境整備

---

## ✅ 成功基準

### 必須達成項目
1. カオスレベル3で実測200ms以内 ✓
2. CI/CDパイプライン完全自動化 ✓
3. デモサイト稼働率99.9%以上 ✓

### 追加価値項目
1. WASMサイズ150KB以下達成
2. iOS実機テストカバレッジ90%
3. メモリリーク0件

---

## 📝 備考

- これらのタスクは「尖ったメリット」を更に強化するためのもの
- 特に**軽量性**と**破壊的演出**の両立という差別化ポイントを維持・強化
- 本開発と並行して進めることも可能だが、優先度「高」は着手推奨

---

**作成日：2025年6月12日**  
**更新日：2025年6月12日**